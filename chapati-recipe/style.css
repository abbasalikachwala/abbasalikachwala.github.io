/* Blue glass + Georgia headings + tight layout */
:root{
  --sp-1: clamp(6px, 0.6vw, 10px);
  --sp-2: clamp(10px, 0.9vw, 14px);
  --sp-3: clamp(14px, 1.2vw, 18px);
  --sp-4: clamp(18px, 1.6vw, 24px);

  --bg0:#e6f0ff; --bg1:#f8fbff;
  --ink:#0b1220; --muted:#5b6b81;
  --accent:#0a84ff;

  --glass: rgba(255,255,255,.55);
  --glass-b: rgba(255,255,255,.30);
  --line: rgba(0,0,0,.06);
  --shadow: 0 10px 30px rgba(10,132,255,.12);

  --displayFont: Georgia, "Cormorant Garamond", "Times New Roman", serif;
}

*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  background:
    radial-gradient(900px 520px at -12% -10%, #d7e7ff 0%, transparent 55%),
    radial-gradient(850px 480px at 112% -18%, #e9f2ff 0%, transparent 55%),
    linear-gradient(180deg,var(--bg0),var(--bg1));
  color:var(--ink);
  font:16px/1.55 -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,system-ui,sans-serif;
}

.wrap{width:100%;max-width:1200px;margin:0 auto;padding:var(--sp-3)}
.hero{margin-bottom:var(--sp-2)}
.hero h1{
  margin:0 0 var(--sp-1) 0;
  font-family: var(--displayFont);
  font-weight: 700;
  font-size: clamp(1.7rem,3.2vw,2.3rem);
  letter-spacing:.2px
}

/* Two columns */
.layout{
  display:grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap:var(--sp-3);
}
@media (max-width:900px){ .layout{ grid-template-columns:1fr } }
.col{display:flex;flex-direction:column;gap:var(--sp-3)}

/* Glass panels */
.glass{
  background:var(--glass);
  border:1px solid var(--glass-b);
  backdrop-filter:saturate(180%) blur(16px);
  -webkit-backdrop-filter:saturate(180%) blur(16px);
  box-shadow:var(--shadow);
  border-radius:18px;

  opacity:0; transform: translateY(10px);
  animation: fadeSlideUp .55s cubic-bezier(.2,.6,.2,1) forwards;
  animation-delay: var(--delay, 0ms);
}
@keyframes fadeSlideUp{ to{opacity:1;transform:translateY(0)} }

.panel{padding:var(--sp-3)}

/* Controls grid */
.grid-controls{
  display:grid;
  grid-template-columns: repeat(2, minmax(260px, 1fr));
  gap:var(--sp-2);
}
@media (max-width:1100px){ .grid-controls{ grid-template-columns:1fr 1fr } }
@media (max-width:720px){  .grid-controls{ grid-template-columns:1fr } }

.controls .field{display:flex;flex-direction:column;gap:var(--sp-1); min-width:0}
.controls input,.controls select{
  padding:12px 14px;border:1px solid var(--line);
  border-radius:14px;background:rgba(255,255,255,.96);
  font:inherit;min-width:0;
  transition:border-color .2s ease, box-shadow .2s ease;
}
.controls input:focus,.controls select:focus{
  outline:none; border-color:#bcd7ff; box-shadow:0 0 0 4px rgba(10,132,255,.12)
}

/* Preset chips */
.seg{display:flex;gap:var(--sp-1);flex-wrap:wrap}
.seg-btn{
  appearance:none;border:1px solid var(--glass-b);background:rgba(255,255,255,.9);
  padding:8px 12px;border-radius:999px;color:#0a4dc0;cursor:pointer;
  box-shadow:0 2px 6px rgba(0,0,0,.06);
  transition:transform .15s ease, background .2s ease;
}
.seg-btn:hover{ transform: translateY(-1px) }
.seg-btn.active{background:linear-gradient(180deg,#e7f0ff,#dfeaff);border-color:#cfe3ff;color:#003a94;font-weight:700}

/* Duo card */
.duo-head{
  display:grid;grid-template-columns:1fr 1fr;gap:var(--sp-2);margin-bottom:var(--sp-1)
}
.duo-head h2{
  margin:0;font-size:1.06rem;color:#0a4dc0;font-family:var(--displayFont)
}
.duo-grid{
  display:grid;grid-template-columns:1fr 1px 1fr;gap:var(--sp-2);align-items:start
}
.split-line{
  width:1px;height:100%;background:linear-gradient(180deg,transparent,rgba(10,77,192,.28),transparent);
  border-radius:1px
}
@media (max-width:720px){
  .duo-head{grid-template-columns:1fr}
  .duo-grid{grid-template-columns:1fr;gap:var(--sp-3)}
  .split-line{display:none}
}

.kv{display:grid; grid-template-columns:minmax(0,1fr) auto; gap:.6rem .9rem}
.kv > div{min-width:0}
.num{font-variant-numeric:tabular-nums;font-weight:700}

/* Totals */
.totals h2{
  margin:.1rem 0 var(--sp-2);
  font-size:1.06rem;color:#0a4dc0;font-family:var(--displayFont)
}
.totals-foot{margin-top:var(--sp-1);font-size:.95rem}

/* KPIs */
/* KPIs row: auto-fit so it wraps nicely with the meal card */
.kpis{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap:var(--sp-2);
}

/* Meal mini-calculator */
.kpi-meal .meal-row{display:flex;gap:10px;align-items:center;justify-content:center;flex-wrap:wrap}
.kpi-meal input{
  width:90px;text-align:center;padding:8px 10px;border:1px solid var(--line);
  border-radius:10px;background:rgba(255,255,255,.96);font:inherit
}
.kpi-meal .meal-nums{font-weight:700}

/* Buttons & timer */
.btn{
  background:#0a84ff;color:#fff;border:none;border-radius:12px;
  padding:10px 14px;cursor:pointer;box-shadow:0 4px 12px rgba(10,132,255,.18);
  transition:transform .15s ease, box-shadow .2s ease;
}
.btn:hover{ transform: translateY(-1px); box-shadow:0 6px 16px rgba(10,132,255,.22) }
.btn.ghost{background:transparent;color:#0a66d6;border:1px solid #bcd7ff}

.timer{display:flex;flex-direction:column;gap:var(--sp-2)}
.timer.center{align-items:center;text-align:center}
.timer.fill{width:100%}            /* full column width */
.timer .row{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;width:100%}
.timer-face{
  font-size:clamp(1.4rem,4vw,2.2rem);font-weight:800;background:rgba(255,255,255,.96);
  border:1px solid var(--glass-b);border-radius:14px;padding:10px 16px;width:100%;text-align:center;
  animation: popIn .5s ease both;
}
@keyframes popIn{ from{transform:scale(.98);opacity:0} to{transform:scale(1);opacity:1} }

.muted{color:var(--muted)}
.wrap > *{margin-bottom:var(--sp-3)}
.wrap > *:last-child{margin-bottom:0}

@media (prefers-reduced-motion: reduce){
  .glass,.timer-face,.btn{animation:none;transition:none}
}
