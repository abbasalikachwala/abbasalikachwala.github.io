<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Chapati Recipe Calculator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="light" />
    <!-- Fallback display font if local Georgia isn’t present -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <main class="wrap">
      <header class="hero">
        <h1>Chapati Recipe Calculator</h1>
      </header>

      <section class="layout">
        <!-- LEFT COLUMN -->
        <div class="col">
          <!-- Controls -->
          <section class="panel glass controls delay-1" id="panel-inputs">
            <h2 class="section-title"><span>Inputs</span></h2>
            <div class="grid-controls">
              <div class="field">
                <label>How many chapatis?</label>
                <div class="seg">
                  <button id="preset8"  type="button" class="seg-btn">8</button>
                  <button id="preset14" type="button" class="seg-btn">14</button>
                  <button id="preset16" type="button" class="seg-btn">16</button>
                  <button id="preset20" type="button" class="seg-btn">20</button>
                </div>
                <input id="n" type="number" min="1" step="1" placeholder="e.g. 16" />
              </div>

              <div class="field">
                <label>Dough per chapati (g)</label>
                <div class="seg">
                  <button data-dough="25" type="button" class="seg-btn doughPreset">25</button>
                  <button data-dough="30" type="button" class="seg-btn doughPreset">30</button>
                  <button data-dough="35" type="button" class="seg-btn doughPreset">35</button>
                  <button data-dough="40" type="button" class="seg-btn doughPreset">40</button>
                </div>
                <input id="dough" type="number" min="20" step="1" placeholder="e.g. 35" />
              </div>

              <div class="field">
                <label>Yoghurt</label>
                <select id="yogBrand">
                  <option value="yoplait" selected>Yoplait Max Protein Plain</option>
                  <option value="gopala">Gopala Full Cream</option>
                </select>
              </div>

              <div class="field">
                <label>Trim Milk</label>
                <select id="milkBrand">
                  <option value="value" selected>Value Trim Milk</option>
                  <option value="dairydale">Dairy Dale Trim Milk</option>
                </select>
                <small id="milkNote" class="muted"></small>
              </div>

              <!-- Dusting flour removed.
                   We now automatically include 2 g of raw flour per chapati for dusting,
                   and 1 g ghee per chapati after cooking. -->

              <div class="field">
                <label>Oil in dough (g)</label>
                <input id="oil" type="number" min="0" step="1" placeholder="auto" />
                <small>Auto ≈ 5 g per 15 chapatis.</small>
              </div>
            </div>
          </section>

          <!-- Totals -->
          <section class="panel glass totals delay-2" id="panel-totals">
            <h2 class="section-title"><span>Totals</span></h2>
            <div class="kv">
              <div>Flour</div>
              <div id="flourTotal" class="num">—</div>
              <div>Milk</div>
              <div id="milkTotal" class="num">—</div>
              <div>Yoghurt</div>
              <div id="yogTotal" class="num">—</div>
              <div>Target dough</div>
              <div id="targetDough" class="num">—</div>
            </div>
            <div class="totals-foot muted">
              Approx. hydration: <span id="hydration">—</span>
            </div>
          </section>

          <!-- Timer -->
          <section class="panel glass timer center fill delay-3" id="panel-timer">
            <h2 class="section-title"><span>Timer</span></h2>
            <div class="timer-face" id="timer">08:30</div>
            <div class="row">
              <button id="startTimer" class="btn">Start</button>
              <button id="pauseTimer" class="btn ghost">Pause</button>
              <button id="resetTimer" class="btn ghost">Reset</button>
            </div>
          </section>
        </div>

        <!-- RIGHT COLUMN -->
        <div class="col">
          <!-- Stand mixer + Tangzhong -->
          <section class="panel glass duo delay-1" id="panel-duo">
            <div class="duo-head">
              <h2 class="section-title"><span>Stand mixer</span></h2>
              <h2 class="section-title"><span>Tangzhong</span></h2>
            </div>
            <div class="duo-grid">
              <div class="kv">
                <div>Flour</div>
                <div id="flourBowl" class="num">—</div>
                <div>Salt</div>
                <div id="salt" class="num">—</div>
                <div>Milk</div>
                <div id="milkBowl" class="num">—</div>
                <div>Yoghurt</div>
                <div id="yogBowl" class="num">—</div>
                <div>Oil</div>
                <div id="oilBowl" class="num">—</div>
              </div>
              <div class="split-line" aria-hidden="true"></div>
              <div class="kv">
                <div>Flour</div>
                <div id="flourTZ" class="num">—</div>
                <div>Milk</div>
                <div id="milkTZ" class="num">—</div>
              </div>
            </div>
          </section>

          <!-- Per-chapati KPIs -->
          <section class="panel glass kpis pretty delay-2" id="panel-kpis">
            <h2 class="section-title"><span>Per chapati</span></h2>
            <div class="stats stats-4">
              <div class="stat">
                <div class="stat-label">Protein</div>
                <div class="stat-value" id="proteinPer">—</div>
              </div>
              <div class="stat">
                <div class="stat-label">Calories</div>
                <div class="stat-value" id="kcalPer">—</div>
              </div>
              <div class="stat">
                <div class="stat-label">Carbs</div>
                <div class="stat-value" id="carbsPer">—</div>
              </div>
              <div class="stat">
                <div class="stat-label">Fat</div>
                <div class="stat-value" id="fatPer">—</div>
              </div>
            </div>
          </section>

          <!-- Meal totals -->
          <section class="panel glass mealcard delay-3" id="panel-meal">
            <h2 class="section-title"><span>This meal</span></h2>
            <div class="meal-row">
              <button id="mealMinus" type="button" class="step" aria-label="Minus one">–</button>
              <input id="mealCount" type="number" min="1" step="1" inputmode="numeric" placeholder="e.g. 3" />
              <button id="mealPlus" type="button" class="step" aria-label="Plus one">+</button>
            </div>
            <div class="stats stats-4">
              <div class="stat">
                <div class="stat-label">Protein</div>
                <div class="stat-value" id="mealProtein">—</div>
              </div>
              <div class="stat">
                <div class="stat-label">Calories</div>
                <div class="stat-value" id="mealKcal">—</div>
              </div>
              <div class="stat">
                <div class="stat-label">Carbs</div>
                <div class="stat-value" id="mealCarbs">—</div>
              </div>
              <div class="stat">
                <div class="stat-label">Fat</div>
                <div class="stat-value" id="mealFat">—</div>
              </div>
            </div>
          </section>
        </div>
      </section>
    </main>

    <script src="script.js"></script>
  </body>
</html>
